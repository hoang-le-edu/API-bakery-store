{
    "openapi": "3.0.0",
    "info": {
        "title": "Bakery Store API Documentation",
        "description": "API documentation for Bakery Store E-commerce Platform. This API provides endpoints for managing products, orders, carts, customers, and more.",
        "contact": {
            "name": "Le Minh Hoang",
            "email": "leminhhoang.working@gmail.com"
        },
        "version": "1.0.0"
    },
    "servers": [
        {
            "url": "http://127.0.0.1:8000",
            "description": "API Server (Auto-detected from APP_URL)"
        },
        {
            "url": "https://bepmetayapi-9adx6.ondigitalocean.app",
            "description": "Production Server"
        }
    ],
    "paths": {
        "/api/auth/register": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Register a new user",
                "description": "Register a new user with email, password, and Firebase UID",
                "operationId": "4f26f0bb2c981c428a8abf8f0432a837",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "name",
                                    "email",
                                    "phone_number",
                                    "firebase_uid"
                                ],
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "example": "John Doe"
                                    },
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "john@example.com"
                                    },
                                    "phone_number": {
                                        "type": "string",
                                        "example": "0123456789"
                                    },
                                    "password": {
                                        "type": "string",
                                        "format": "password",
                                        "example": "password123"
                                    },
                                    "c_password": {
                                        "type": "string",
                                        "format": "password",
                                        "example": "password123"
                                    },
                                    "firebase_uid": {
                                        "type": "string",
                                        "example": "firebase_uid_here"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "User registered successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "User registered successfully."
                                        },
                                        "data": {
                                            "properties": {
                                                "token": {
                                                    "type": "string"
                                                },
                                                "name": {
                                                    "type": "string"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Validation Error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/auth/gen-otp": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Generate OTP for phone number",
                "description": "Generate and send OTP to the provided phone number",
                "operationId": "db8226bf42bbb4ccad77a13ea7b8b3d6",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "mobile_no"
                                ],
                                "properties": {
                                    "mobile_no": {
                                        "description": "Phone number registered in the system",
                                        "type": "string",
                                        "example": "0123456789"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "OTP generated successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "OTP generated successfully."
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Validation Error"
                    }
                }
            }
        },
        "/api/auth/auth-otp": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Login with OTP",
                "description": "Authenticate user using OTP sent to phone number",
                "operationId": "2ed9330f15c744f85c20bde094574ef2",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "user_id",
                                    "otp"
                                ],
                                "properties": {
                                    "user_id": {
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "otp": {
                                        "type": "string",
                                        "example": "123456"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "User login successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "User login successfully."
                                        },
                                        "data": {
                                            "properties": {
                                                "token": {
                                                    "type": "string"
                                                },
                                                "user": {
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Invalid OTP or OTP Expired"
                    }
                }
            }
        },
        "/api/auth/login": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Login with email and password",
                "description": "Authenticate user using email and password",
                "operationId": "0bf3a9518eb969a2f78d921c4cd2bac8",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "email",
                                    "password"
                                ],
                                "properties": {
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "admin@example.com"
                                    },
                                    "password": {
                                        "type": "string",
                                        "format": "password",
                                        "example": "password123"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "User login successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "User login successfully."
                                        },
                                        "data": {
                                            "properties": {
                                                "accessToken": {
                                                    "type": "string"
                                                },
                                                "refreshToken": {
                                                    "type": "string"
                                                },
                                                "user": {
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorised",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthorised."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/auth/login-firebase": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Unified login with Firebase integration",
                "description": "Login for both admin and regular users with Firebase authentication. Admin users will use custom token, regular users will use email/password Firebase auth.",
                "operationId": "11c26d952aeb3c99cf4590ab3f407608",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "email",
                                    "password"
                                ],
                                "properties": {
                                    "email": {
                                        "description": "User email address",
                                        "type": "string",
                                        "format": "email",
                                        "example": "user@example.com"
                                    },
                                    "password": {
                                        "description": "User password",
                                        "type": "string",
                                        "format": "password",
                                        "example": "password123"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Login successful",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Login successful"
                                        },
                                        "data": {
                                            "properties": {
                                                "user": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "string",
                                                            "example": "9b5f..."
                                                        },
                                                        "email": {
                                                            "type": "string",
                                                            "example": "user@example.com"
                                                        },
                                                        "name": {
                                                            "type": "string",
                                                            "example": "John Doe"
                                                        },
                                                        "is_admin": {
                                                            "type": "integer",
                                                            "example": 0
                                                        },
                                                        "firebase_uid": {
                                                            "type": "string",
                                                            "example": "PbviNczyrEgGIP4jPZiB4G5ICJz1"
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "auth_method": {
                                                    "description": "Authentication method used: 'custom_token' for admin, 'password' for regular user",
                                                    "type": "string",
                                                    "example": "custom_token"
                                                },
                                                "firebase_auth": {
                                                    "properties": {
                                                        "idToken": {
                                                            "description": "Firebase ID token",
                                                            "type": "string",
                                                            "example": "eyJhbGc..."
                                                        },
                                                        "refreshToken": {
                                                            "description": "Firebase refresh token",
                                                            "type": "string",
                                                            "example": "AOEOulZ..."
                                                        },
                                                        "expiresIn": {
                                                            "description": "Token expiration in seconds",
                                                            "type": "string",
                                                            "example": "3600"
                                                        }
                                                    },
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized - Invalid credentials",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Invalid credentials"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Server error - Firebase authentication failed",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Firebase authentication failed"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/auth/me": {
            "get": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Get current user information",
                "description": "Get authenticated user's profile information",
                "operationId": "0d1c8bb645e4fad05f7ad7f199ecb220",
                "responses": {
                    "200": {
                        "description": "User retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "User retrieved successfully."
                                        },
                                        "data": {
                                            "properties": {
                                                "user": {
                                                    "type": "object"
                                                },
                                                "roles": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "object"
                                                    }
                                                },
                                                "permissions": {
                                                    "type": "object"
                                                },
                                                "visible_module": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    }
                                                },
                                                "customer_info": {
                                                    "type": "object"
                                                },
                                                "report": {
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "404": {
                        "description": "User Not Found"
                    }
                },
                "security": [
                    {
                        "firebaseAuth": []
                    }
                ]
            }
        },
        "/api/auth/logout": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Logout user",
                "description": "Logout the authenticated user and invalidate all tokens",
                "operationId": "015940285cd227c678d4bf979b90261f",
                "responses": {
                    "200": {
                        "description": "User logged out successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "User logged out successfully."
                                        },
                                        "data": {
                                            "properties": {
                                                "user_type": {
                                                    "type": "string"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                },
                "security": [
                    {
                        "firebaseAuth": []
                    }
                ]
            }
        },
        "/api/auth/refresh": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Refresh access token",
                "description": "Generate new access and refresh tokens using a valid refresh token",
                "operationId": "3bce4ab800d5a0a0340798bc40200ac9",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "refreshToken"
                                ],
                                "properties": {
                                    "refreshToken": {
                                        "type": "string",
                                        "example": "refresh_token_here"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Tokens refreshed successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "accessToken": {
                                            "type": "string"
                                        },
                                        "refreshToken": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Invalid or expired refresh token"
                    }
                }
            }
        },
        "/api/auth/check-firebase-user": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Check if Firebase user exists",
                "description": "Check if a user with the given Firebase UID exists in the system",
                "operationId": "64c9fa6096b0da990e0279232a32e421",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "firebase_uid"
                                ],
                                "properties": {
                                    "firebase_uid": {
                                        "type": "string",
                                        "example": "firebase_uid_here"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Success",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "existed": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "user": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Validation Error"
                    }
                }
            }
        },
        "/api/auth/getCustomToken": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Get Firebase custom token for admin users",
                "description": "Generate a new Firebase custom token for admin users. This token can be exchanged for an ID token via Firebase Authentication API.",
                "operationId": "339c7e0272c0b4893c1c5092ac520df1",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "firebase_uid"
                                ],
                                "properties": {
                                    "firebase_uid": {
                                        "description": "Firebase UID of the admin user",
                                        "type": "string",
                                        "example": "PbviNczyrEgGIP4jPZiB4G5ICJz1"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Custom token generated successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "custom_token": {
                                            "description": "Firebase custom token that can be exchanged for ID token",
                                            "type": "string",
                                            "example": "eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9..."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized - User not found or not admin",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthorized or User not found."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Firebase token generation failed",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Failed to generate custom token"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/firebase/signInWithCustomToken": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "[Proxy] Firebase: Exchange Custom Token for ID Token",
                "description": "**Backend proxy to Firebase API.** Exchange the custom token (from /api/auth/getCustomToken) for a Firebase ID token. The backend forwards your request to Firebase: `https://identitytoolkit.googleapis.com/v1/accounts:signInWithCustomToken`. You can test this directly in Swagger UI.",
                "externalDocs": {
                    "description": "Firebase Auth REST API",
                    "url": "https://firebase.google.com/docs/reference/rest/auth#section-sign-in-with-custom-token"
                },
                "operationId": "561510fb5f723dc5fd535f3ddab764cb",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "token",
                                    "returnSecureToken"
                                ],
                                "properties": {
                                    "token": {
                                        "description": "Custom token from /api/auth/getCustomToken",
                                        "type": "string",
                                        "example": "eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9..."
                                    },
                                    "returnSecureToken": {
                                        "type": "boolean",
                                        "example": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successfully exchanged for ID token",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "idToken": {
                                            "description": "Use this as Bearer token for API calls",
                                            "type": "string",
                                            "example": "eyJhbGciOiJSUzI1NiIsImtpZCI6Ij..."
                                        },
                                        "refreshToken": {
                                            "type": "string",
                                            "example": "..."
                                        },
                                        "expiresIn": {
                                            "type": "string",
                                            "example": "3600"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid custom token",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "error": {
                                            "properties": {
                                                "code": {
                                                    "type": "integer",
                                                    "example": 400
                                                },
                                                "message": {
                                                    "type": "string",
                                                    "example": "INVALID_CUSTOM_TOKEN"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/firebase/signInWithPassword": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "[Proxy] Firebase: Sign In with Email & Password",
                "description": "**Backend proxy to Firebase API.** Sign in with email/password to get Firebase ID token. The backend forwards your request to Firebase: `https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword`. You can test this directly in Swagger UI.",
                "externalDocs": {
                    "description": "Firebase Auth REST API",
                    "url": "https://firebase.google.com/docs/reference/rest/auth#section-sign-in-email-password"
                },
                "operationId": "070f29abae8b1758da0f28c2670d23b4",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "email",
                                    "password",
                                    "returnSecureToken"
                                ],
                                "properties": {
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "tom@gmail.com"
                                    },
                                    "password": {
                                        "type": "string",
                                        "format": "password",
                                        "example": "12345678"
                                    },
                                    "returnSecureToken": {
                                        "type": "boolean",
                                        "example": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successfully signed in",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "idToken": {
                                            "description": "Use this as Bearer token for API calls",
                                            "type": "string",
                                            "example": "eyJhbGciOiJSUzI1NiIsImtpZCI6Ij..."
                                        },
                                        "email": {
                                            "type": "string",
                                            "example": "tom@gmail.com"
                                        },
                                        "refreshToken": {
                                            "type": "string",
                                            "example": "..."
                                        },
                                        "expiresIn": {
                                            "type": "string",
                                            "example": "3600"
                                        },
                                        "localId": {
                                            "description": "Firebase UID",
                                            "type": "string",
                                            "example": "PbviNczyrEgGIP4jPZiB4G5ICJz1"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid credentials",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "error": {
                                            "properties": {
                                                "code": {
                                                    "type": "integer",
                                                    "example": 400
                                                },
                                                "message": {
                                                    "type": "string",
                                                    "example": "INVALID_PASSWORD"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/categories/options/all": {
            "get": {
                "tags": [
                    "Categories"
                ],
                "summary": "Get all categories (Public)",
                "description": "Get all categories visible to customers",
                "operationId": "c57998d76904759bb2470907d884b76d",
                "responses": {
                    "200": {
                        "description": "Categories retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "string"
                                                    },
                                                    "name": {
                                                        "type": "string"
                                                    },
                                                    "description": {
                                                        "type": "string"
                                                    },
                                                    "type": {
                                                        "type": "string",
                                                        "enum": [
                                                            "Food",
                                                            "Drink",
                                                            "Topping"
                                                        ]
                                                    },
                                                    "priority": {
                                                        "type": "integer"
                                                    },
                                                    "image_path": {
                                                        "type": "string"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/admin/categories/add": {
            "post": {
                "tags": [
                    "Categories"
                ],
                "summary": "Create new category (Admin)",
                "description": "Create a new category",
                "operationId": "64d158835a7d1e0cc54764ec40c0c2b2",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "name",
                                    "type"
                                ],
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "example": "Beverages"
                                    },
                                    "description": {
                                        "type": "string",
                                        "example": "All kinds of drinks"
                                    },
                                    "type": {
                                        "type": "string",
                                        "enum": [
                                            "Food",
                                            "Drink",
                                            "Topping"
                                        ],
                                        "example": "Drink"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Category created successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "422": {
                        "description": "Validation Error"
                    }
                },
                "security": [
                    {
                        "firebaseAuth": []
                    }
                ]
            }
        },
        "/api/admin/categories/all": {
            "get": {
                "tags": [
                    "Categories"
                ],
                "summary": "Get all categories (Admin)",
                "description": "Get all categories including hidden ones for admin panel",
                "operationId": "d4684065f54b028bdc26c8666a89b3ba",
                "responses": {
                    "200": {
                        "description": "Categories retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                },
                "security": [
                    {
                        "firebaseAuth": []
                    }
                ]
            }
        },
        "/api/ghn/provinces": {
            "get": {
                "tags": [
                    "Shipping"
                ],
                "summary": "Get provinces list",
                "description": "Get all provinces from GHN API for shipping address",
                "operationId": "51ef33ca38e3526e000ae6104dfdb621",
                "responses": {
                    "200": {
                        "description": "Provinces retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "code": {
                                            "type": "integer",
                                            "example": 200
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Success"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "ProvinceID": {
                                                        "type": "integer"
                                                    },
                                                    "ProvinceName": {
                                                        "type": "string"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "GHN API Error"
                    }
                },
                "security": [
                    {
                        "firebaseAuth": []
                    }
                ]
            }
        },
        "/api/ghn/districts": {
            "get": {
                "tags": [
                    "Shipping"
                ],
                "summary": "Get districts list",
                "description": "Get districts by province ID from GHN API",
                "operationId": "48cb5fac5dc32eb0304a44884cf13e40",
                "parameters": [
                    {
                        "name": "province_id",
                        "in": "query",
                        "description": "Province ID from GHN",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 202
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Districts retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "code": {
                                            "type": "integer",
                                            "example": 200
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Success"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error"
                    },
                    "500": {
                        "description": "GHN API Error"
                    }
                },
                "security": [
                    {
                        "firebaseAuth": []
                    }
                ]
            }
        },
        "/api/ghn/wards": {
            "get": {
                "tags": [
                    "Shipping"
                ],
                "summary": "Get wards list",
                "description": "Get wards by district ID from GHN API",
                "operationId": "383a023658008ff5450f854534d2a548",
                "parameters": [
                    {
                        "name": "district_id",
                        "in": "query",
                        "description": "District ID from GHN",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 1542
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Wards retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "code": {
                                            "type": "integer",
                                            "example": 200
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Success"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error"
                    },
                    "500": {
                        "description": "GHN API Error"
                    }
                },
                "security": [
                    {
                        "firebaseAuth": []
                    }
                ]
            }
        },
        "/api/ghn/shipping-fee": {
            "get": {
                "tags": [
                    "Shipping"
                ],
                "summary": "Calculate shipping fee",
                "description": "Calculate shipping fee from GHN based on destination",
                "operationId": "4af95bd52ce48a861952d0fd261a2af6",
                "parameters": [
                    {
                        "name": "team_id",
                        "in": "query",
                        "description": "Team/Branch ID (from location)",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "to_district_id",
                        "in": "query",
                        "description": "Destination District ID",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "to_ward_code",
                        "in": "query",
                        "description": "Destination Ward Code",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "insurance_value",
                        "in": "query",
                        "description": "Order value for insurance",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Shipping fee calculated successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "code": {
                                            "type": "integer",
                                            "example": 200
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Success"
                                        },
                                        "data": {
                                            "properties": {
                                                "total": {
                                                    "type": "integer",
                                                    "example": 50000
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation Error"
                    },
                    "500": {
                        "description": "GHN API Error"
                    }
                },
                "security": [
                    {
                        "firebaseAuth": []
                    }
                ]
            }
        },
        "/api/admin/orders/all": {
            "get": {
                "tags": [
                    "Orders"
                ],
                "summary": "Get all orders (Admin)",
                "description": "Get all orders with customer and creator information for admin panel",
                "operationId": "8d6813ab049edf23c9bab8433ed6a299",
                "responses": {
                    "200": {
                        "description": "Orders retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Orders fetched successfully."
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "string"
                                                    },
                                                    "order_number": {
                                                        "type": "string"
                                                    },
                                                    "receiver_name": {
                                                        "type": "string"
                                                    },
                                                    "receiver_address": {
                                                        "type": "string"
                                                    },
                                                    "payment_method": {
                                                        "type": "string"
                                                    },
                                                    "order_status": {
                                                        "type": "string"
                                                    },
                                                    "order_total": {
                                                        "type": "number"
                                                    },
                                                    "created_at": {
                                                        "type": "string"
                                                    },
                                                    "customers": {
                                                        "type": "array",
                                                        "items": {
                                                            "type": "object"
                                                        }
                                                    },
                                                    "creator": {
                                                        "type": "object"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                },
                "security": [
                    {
                        "firebaseAuth": []
                    }
                ]
            }
        },
        "/api/cart/deleteCart/{id}": {
            "delete": {
                "tags": [
                    "Cart"
                ],
                "summary": "Delete entire cart",
                "description": "Delete a cart (draft order) with all its items and details",
                "operationId": "dd5c4587980ec62551614cffee72ef70",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Order ID (cart ID)",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Cart deleted successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Order deleted successfully."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "404": {
                        "description": "Order not found"
                    }
                },
                "security": [
                    {
                        "firebaseAuth": []
                    }
                ]
            }
        },
        "/api/loadCustomerOrders": {
            "get": {
                "tags": [
                    "Orders"
                ],
                "summary": "Get customer order history",
                "description": "Get all orders (except Draft) for authenticated customer, grouped by status",
                "operationId": "ab68075656e39984d89d6656deddccd1",
                "responses": {
                    "200": {
                        "description": "Orders fetched successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Orders fetched successfully."
                                        },
                                        "data": {
                                            "properties": {
                                                "Wait For Approval": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "object"
                                                    }
                                                },
                                                "In Progress": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "object"
                                                    }
                                                },
                                                "Delivering": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "object"
                                                    }
                                                },
                                                "Completed": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "object"
                                                    }
                                                },
                                                "Cancelled": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "object"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "404": {
                        "description": "Customer not found"
                    }
                },
                "security": [
                    {
                        "firebaseAuth": []
                    }
                ]
            }
        },
        "/api/orders/proceed": {
            "post": {
                "tags": [
                    "Orders"
                ],
                "summary": "Proceed with order checkout",
                "description": "Finalize order with shipping details, payment method, and vouchers. Requires Firebase authentication.",
                "operationId": "a37f1a1a6369590817bc3eb1ebf0ccf5",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "order_id",
                                    "receiver_name",
                                    "receiver_address",
                                    "payment_method",
                                    "province",
                                    "district",
                                    "ward",
                                    "street",
                                    "phone_number",
                                    "shipping_fee"
                                ],
                                "properties": {
                                    "order_id": {
                                        "type": "string",
                                        "format": "uuid",
                                        "example": "123e4567-e89b-12d3-a456-426614174000"
                                    },
                                    "receiver_name": {
                                        "type": "string",
                                        "example": "Nguyen Van A"
                                    },
                                    "receiver_address": {
                                        "type": "string",
                                        "example": "123 Nguyen Hue, District 1"
                                    },
                                    "payment_method": {
                                        "type": "string",
                                        "enum": [
                                            "Banking",
                                            "Cash"
                                        ],
                                        "example": "Banking"
                                    },
                                    "voucher": {
                                        "type": "string",
                                        "format": "uuid",
                                        "example": "123e4567-e89b-12d3-a456-426614174001"
                                    },
                                    "voucher_shipping": {
                                        "type": "string",
                                        "format": "uuid",
                                        "example": "123e4567-e89b-12d3-a456-426614174002"
                                    },
                                    "note": {
                                        "type": "string",
                                        "example": "Giao sau 5h"
                                    },
                                    "province": {
                                        "type": "string",
                                        "example": "Ho Chi Minh"
                                    },
                                    "district": {
                                        "type": "string",
                                        "example": "District 1"
                                    },
                                    "ward": {
                                        "type": "string",
                                        "example": "Ben Nghe"
                                    },
                                    "street": {
                                        "type": "string",
                                        "example": "123 Nguyen Hue"
                                    },
                                    "phone_number": {
                                        "type": "string",
                                        "example": "0901234567"
                                    },
                                    "shipping_fee": {
                                        "type": "number",
                                        "example": 25000
                                    },
                                    "discount_number": {
                                        "type": "number",
                                        "example": 10000
                                    },
                                    "order_total": {
                                        "type": "number",
                                        "example": 150000
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Order proceeded successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Order proceeded successfully."
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "403": {
                        "description": "Forbidden - Order does not belong to customer"
                    },
                    "404": {
                        "description": "Customer not found"
                    }
                },
                "security": [
                    {
                        "firebaseAuth": []
                    }
                ]
            }
        },
        "/api/customer/markReceived": {
            "post": {
                "tags": [
                    "Orders"
                ],
                "summary": "Mark order as received by customer",
                "description": "Customer marks order as completed/delivered. Requires Firebase authentication.",
                "operationId": "19ae81eb4be9f40a4e141fdee9b3b80e",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "order_id"
                                ],
                                "properties": {
                                    "order_id": {
                                        "type": "string",
                                        "format": "uuid",
                                        "example": "123e4567-e89b-12d3-a456-426614174000"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Order marked as delivered successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Order marked as delivered successfully."
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "403": {
                        "description": "Forbidden - Order does not belong to customer"
                    },
                    "404": {
                        "description": "Customer or Order not found"
                    }
                },
                "security": [
                    {
                        "firebaseAuth": []
                    }
                ]
            }
        },
        "/api/customer/giveFeedback": {
            "post": {
                "tags": [
                    "Orders"
                ],
                "summary": "Give feedback and rating for completed order",
                "description": "Customer provides rating (1-5 stars) and feedback for their order. Requires Firebase authentication.",
                "operationId": "b743646f3d7abc4092d3cdd91d31d5ab",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "order_id",
                                    "rate"
                                ],
                                "properties": {
                                    "order_id": {
                                        "type": "string",
                                        "format": "uuid",
                                        "example": "123e4567-e89b-12d3-a456-426614174000"
                                    },
                                    "rate": {
                                        "type": "integer",
                                        "maximum": 5,
                                        "minimum": 1,
                                        "example": 5
                                    },
                                    "customer_feedback": {
                                        "type": "string",
                                        "example": "Sn phm rt ngon!"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Feedback submitted successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Feedback submitted successfully."
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "403": {
                        "description": "Forbidden - Order does not belong to customer"
                    },
                    "404": {
                        "description": "Customer or Order not found"
                    }
                },
                "security": [
                    {
                        "firebaseAuth": []
                    }
                ]
            }
        },
        "/api/cart/addProductToCart": {
            "post": {
                "tags": [
                    "Cart"
                ],
                "summary": "Add product to cart",
                "description": "Add a product with optional toppings to one or multiple shopping carts",
                "operationId": "b06f052c3c78766011b53f9698241f66",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "product"
                                ],
                                "properties": {
                                    "product": {
                                        "properties": {
                                            "product_id": {
                                                "type": "integer"
                                            },
                                            "size": {
                                                "type": "string",
                                                "example": "M"
                                            },
                                            "quantity": {
                                                "type": "integer",
                                                "example": 1
                                            },
                                            "toppings_id": {
                                                "type": "array",
                                                "items": {
                                                    "type": "integer"
                                                }
                                            },
                                            "note": {
                                                "type": "string"
                                            },
                                            "total_price": {
                                                "type": "number"
                                            }
                                        },
                                        "type": "object"
                                    },
                                    "order_ids": {
                                        "description": "Array of order IDs to add product to",
                                        "type": "array",
                                        "items": {
                                            "type": "integer"
                                        }
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Product added to cart successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "404": {
                        "description": "Product or Customer not found"
                    }
                },
                "security": [
                    {
                        "firebaseAuth": []
                    }
                ]
            }
        },
        "/api/cart/fetchCart": {
            "get": {
                "tags": [
                    "Cart"
                ],
                "summary": "Fetch user's shopping cart",
                "description": "Get all draft orders (carts) with their items for the authenticated customer",
                "operationId": "6fc01d61bb579b8f2aa8ec9b80577e3f",
                "responses": {
                    "200": {
                        "description": "Cart fetched successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Cart fetched successfully."
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "order_id": {
                                                        "type": "integer"
                                                    },
                                                    "order_number": {
                                                        "type": "string"
                                                    },
                                                    "type": {
                                                        "type": "string"
                                                    },
                                                    "count_product": {
                                                        "type": "integer"
                                                    },
                                                    "total_price": {
                                                        "type": "number"
                                                    },
                                                    "order_detail": {
                                                        "type": "array",
                                                        "items": {
                                                            "type": "object"
                                                        }
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "404": {
                        "description": "Customer not found"
                    }
                },
                "security": [
                    {
                        "firebaseAuth": []
                    }
                ]
            }
        },
        "/api/cart/updateProductInCart": {
            "put": {
                "tags": [
                    "Cart"
                ],
                "summary": "Update product in cart",
                "description": "Update quantity, size, toppings, and note for a product in cart",
                "operationId": "c4b1d56050a8a0539f28080ccf9f086c",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "order_id",
                                    "order_detail_id",
                                    "size",
                                    "quantity",
                                    "total_price"
                                ],
                                "properties": {
                                    "order_id": {
                                        "type": "string",
                                        "format": "uuid"
                                    },
                                    "order_detail_id": {
                                        "type": "string",
                                        "format": "uuid"
                                    },
                                    "size": {
                                        "type": "string",
                                        "example": "M"
                                    },
                                    "quantity": {
                                        "type": "integer",
                                        "minimum": 1,
                                        "example": 2
                                    },
                                    "toppings_id": {
                                        "type": "array",
                                        "items": {
                                            "type": "integer"
                                        }
                                    },
                                    "note": {
                                        "type": "string",
                                        "example": "t ng"
                                    },
                                    "total_price": {
                                        "type": "number",
                                        "example": 75000
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Product updated successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string"
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "403": {
                        "description": "Forbidden"
                    },
                    "404": {
                        "description": "Order or Order Detail not found"
                    }
                },
                "security": [
                    {
                        "firebaseAuth": []
                    }
                ]
            }
        },
        "/api/cart/removeProductFromCart": {
            "post": {
                "tags": [
                    "Cart"
                ],
                "summary": "Remove product from cart",
                "description": "Remove a product (order detail) from shopping cart",
                "operationId": "368e1b70ca5297951256f8cc87e9ad68",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "cart_id",
                                    "order_detail_id"
                                ],
                                "properties": {
                                    "cart_id": {
                                        "description": "Order ID (cart ID)",
                                        "type": "string",
                                        "format": "uuid"
                                    },
                                    "order_detail_id": {
                                        "description": "Order detail ID to remove",
                                        "type": "string",
                                        "format": "uuid"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Product removed successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Product removed from cart successfully."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "403": {
                        "description": "Forbidden"
                    },
                    "404": {
                        "description": "Cart or Product not found"
                    }
                },
                "security": [
                    {
                        "firebaseAuth": []
                    }
                ]
            }
        },
        "/api/cart/removeToppingFromCart": {
            "post": {
                "tags": [
                    "Cart"
                ],
                "summary": "Remove topping from product in cart",
                "description": "Remove a specific topping from a product in shopping cart",
                "operationId": "7027f4798f73d7887394bee00200ddfb",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "cart_id",
                                    "order_detail_id",
                                    "topping_id"
                                ],
                                "properties": {
                                    "cart_id": {
                                        "description": "Order ID (cart ID)",
                                        "type": "string",
                                        "format": "uuid"
                                    },
                                    "order_detail_id": {
                                        "description": "Order detail ID (parent product)",
                                        "type": "string",
                                        "format": "uuid"
                                    },
                                    "topping_id": {
                                        "description": "Topping ID to remove",
                                        "type": "string",
                                        "format": "uuid"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Topping removed successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Topping removed from cart successfully."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "403": {
                        "description": "Forbidden"
                    },
                    "404": {
                        "description": "Cart, Product, or Topping not found"
                    }
                },
                "security": [
                    {
                        "firebaseAuth": []
                    }
                ]
            }
        },
        "/api/customer/cancelOrder": {
            "post": {
                "tags": [
                    "Orders"
                ],
                "summary": "Cancel an order",
                "description": "Customer cancels their order. Requires Firebase authentication.",
                "operationId": "703093a85b8e507523d5a149b68d2e80",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "order_id"
                                ],
                                "properties": {
                                    "order_id": {
                                        "type": "string",
                                        "format": "uuid",
                                        "example": "123e4567-e89b-12d3-a456-426614174000"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Order cancelled successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Order cancelled successfully."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "403": {
                        "description": "Forbidden - Order does not belong to customer"
                    },
                    "404": {
                        "description": "Customer or Order not found"
                    }
                },
                "security": [
                    {
                        "firebaseAuth": []
                    }
                ]
            }
        },
        "/api/admin/orders/update/{id}": {
            "post": {
                "tags": [
                    "Orders"
                ],
                "summary": "Update order (Admin)",
                "description": "Update order details including status, payment, and customer information",
                "operationId": "f2809cf71dd75c6e4363eb108b8fe643",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Order ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "requestBody": {
                    "required": false,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "order_number": {
                                        "type": "string"
                                    },
                                    "receiver_name": {
                                        "type": "string"
                                    },
                                    "receiver_address": {
                                        "type": "string"
                                    },
                                    "payment_method": {
                                        "type": "string",
                                        "enum": [
                                            "Banking",
                                            "Cash"
                                        ]
                                    },
                                    "payment_status": {
                                        "type": "string",
                                        "enum": [
                                            "pending",
                                            "paid"
                                        ]
                                    },
                                    "order_status": {
                                        "type": "string"
                                    },
                                    "order_total": {
                                        "type": "number"
                                    },
                                    "rate": {
                                        "type": "integer",
                                        "maximum": 5,
                                        "minimum": 0
                                    },
                                    "customer_feedback": {
                                        "type": "string"
                                    },
                                    "host_id": {
                                        "type": "string",
                                        "format": "uuid"
                                    },
                                    "source": {
                                        "type": "string",
                                        "enum": [
                                            "Offline",
                                            "Online"
                                        ]
                                    },
                                    "team_id": {
                                        "type": "string",
                                        "format": "uuid"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Order updated successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Order updated successfully . "
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "404": {
                        "description": "Order not found"
                    },
                    "422": {
                        "description": "Validation Error"
                    }
                },
                "security": [
                    {
                        "firebaseAuth": []
                    }
                ]
            }
        },
        "/api/orders/status/{id}": {
            "post": {
                "tags": [
                    "Orders"
                ],
                "summary": "Update order status (Admin/Staff)",
                "description": "Update the status of an order. Requires Firebase authentication.",
                "operationId": "9cc09aa9f58243d69f0a5a66372dc7e7",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Order ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "order_status"
                                ],
                                "properties": {
                                    "order_status": {
                                        "type": "string",
                                        "enum": [
                                            "Wait For Approval",
                                            "In Progress",
                                            "Delivering",
                                            "Delivered",
                                            "Completed",
                                            "Cancelled"
                                        ],
                                        "example": "In Progress"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Order status updated successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Order updated successfully . "
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "404": {
                        "description": "Order not found"
                    }
                },
                "security": [
                    {
                        "firebaseAuth": []
                    }
                ]
            }
        },
        "/api/payos/create-payment-link": {
            "post": {
                "tags": [
                    "Payment"
                ],
                "summary": "Create PayOS payment link",
                "description": "Create a payment link for order using PayOS",
                "operationId": "2770592edea187f490645fe9a9beda92",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "order_id"
                                ],
                                "properties": {
                                    "order_id": {
                                        "type": "string",
                                        "example": "9d4a5c8e-1234-5678-abcd-123456789abc"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Payment link created successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "error": {
                                            "type": "integer",
                                            "example": 0
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Success"
                                        },
                                        "checkoutUrl": {
                                            "type": "string",
                                            "example": "https://pay.payos.vn/web/..."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "404": {
                        "description": "Order not found"
                    },
                    "422": {
                        "description": "Validation Error"
                    }
                },
                "security": [
                    {
                        "firebaseAuth": []
                    }
                ]
            }
        },
        "/api/admin/products/all": {
            "get": {
                "tags": [
                    "Products"
                ],
                "summary": "Get all products (Admin)",
                "description": "Get all products with categories for admin panel",
                "operationId": "a1979eb80a2fd4bf226492636b9464c2",
                "parameters": [
                    {
                        "name": "page_size",
                        "in": "query",
                        "description": "Number of items per page",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "example": 10
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Products retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string"
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                },
                "security": [
                    {
                        "firebaseAuth": []
                    }
                ]
            }
        },
        "/api/customer/products/all": {
            "get": {
                "tags": [
                    "Products"
                ],
                "summary": "Get products for customers",
                "description": "Get all active products with categories for customer view",
                "operationId": "7f77a11c2b1560da38fbb29d90175d90",
                "parameters": [
                    {
                        "name": "category_id",
                        "in": "query",
                        "description": "Filter by category ID",
                        "required": false,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "searchText",
                        "in": "query",
                        "description": "Search keyword",
                        "required": false,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "min_price",
                        "in": "query",
                        "description": "Minimum price filter",
                        "required": false,
                        "schema": {
                            "type": "number"
                        }
                    },
                    {
                        "name": "max_price",
                        "in": "query",
                        "description": "Maximum price filter",
                        "required": false,
                        "schema": {
                            "type": "number"
                        }
                    },
                    {
                        "name": "page_size",
                        "in": "query",
                        "description": "Number of items per page",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "example": 10
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Products retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "type": "object"
                                            }
                                        },
                                        "products_count": {
                                            "type": "integer"
                                        },
                                        "pagination": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/customer/product/{id}": {
            "get": {
                "tags": [
                    "Products"
                ],
                "summary": "Get product detail for customer",
                "description": "Get detailed information of a specific product including toppings and sizes",
                "operationId": "34500503e95666d46964cb000b66c35c",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Product ID",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Product detail retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer"
                                                },
                                                "name": {
                                                    "type": "string"
                                                },
                                                "price": {
                                                    "type": "number"
                                                },
                                                "topping_list": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "object"
                                                    }
                                                },
                                                "size_list": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "object"
                                                    }
                                                },
                                                "image_url": {
                                                    "type": "string"
                                                },
                                                "productDetailImages": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "object"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Product not found"
                    }
                }
            }
        },
        "/api/admin/products/add": {
            "post": {
                "tags": [
                    "Products"
                ],
                "summary": "Create new product (Admin)",
                "description": "Create a new product with images, categories, and toppings",
                "operationId": "c43505e3c0f874e5c87ecd476f6fe664",
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "required": [
                                    "name",
                                    "status",
                                    "categories_id[]"
                                ],
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "example": "Cappuccino"
                                    },
                                    "description": {
                                        "type": "string"
                                    },
                                    "thumbnailImage": {
                                        "type": "string",
                                        "format": "binary"
                                    },
                                    "productDetailImages[]": {
                                        "type": "array",
                                        "items": {
                                            "type": "string",
                                            "format": "binary"
                                        }
                                    },
                                    "status": {
                                        "type": "string",
                                        "enum": [
                                            "active",
                                            "inactive"
                                        ]
                                    },
                                    "price": {
                                        "type": "number",
                                        "example": 45000
                                    },
                                    "cost": {
                                        "type": "number"
                                    },
                                    "up_m_price": {
                                        "type": "number",
                                        "example": 5000
                                    },
                                    "up_l_price": {
                                        "type": "number",
                                        "example": 10000
                                    },
                                    "is_topping": {
                                        "type": "boolean",
                                        "example": false
                                    },
                                    "priority": {
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "categories_id[]": {
                                        "type": "array",
                                        "items": {
                                            "type": "string",
                                            "format": "uuid"
                                        }
                                    },
                                    "toppings_id[]": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Product created successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string"
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "422": {
                        "description": "Validation Error"
                    }
                },
                "security": [
                    {
                        "firebaseAuth": []
                    }
                ]
            }
        },
        "/api/admin/products/update/{id}": {
            "post": {
                "tags": [
                    "Products"
                ],
                "summary": "Update product (Admin)",
                "description": "Update product details including images, categories, and toppings",
                "operationId": "91fb03d76436f784079568f797684c0c",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Product ID",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "required": false,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "properties": {
                                    "name": {
                                        "type": "string"
                                    },
                                    "description": {
                                        "type": "string"
                                    },
                                    "thumbnailImage": {
                                        "type": "string",
                                        "format": "binary"
                                    },
                                    "productDetailImages[]": {
                                        "type": "array",
                                        "items": {
                                            "type": "string",
                                            "format": "binary"
                                        }
                                    },
                                    "status": {
                                        "type": "string",
                                        "enum": [
                                            "active",
                                            "inactive"
                                        ]
                                    },
                                    "price": {
                                        "type": "number"
                                    },
                                    "cost": {
                                        "type": "number"
                                    },
                                    "up_m_price": {
                                        "type": "number"
                                    },
                                    "up_l_price": {
                                        "type": "number"
                                    },
                                    "is_topping": {
                                        "type": "boolean"
                                    },
                                    "priority": {
                                        "type": "integer"
                                    },
                                    "categories_id[]": {
                                        "type": "array",
                                        "items": {
                                            "type": "string",
                                            "format": "uuid"
                                        }
                                    },
                                    "toppings_id[]": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Product updated successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string"
                                        },
                                        "data": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "404": {
                        "description": "Product not found"
                    },
                    "422": {
                        "description": "Validation Error"
                    }
                },
                "security": [
                    {
                        "firebaseAuth": []
                    }
                ]
            }
        },
        "/api/admin/products/{id}": {
            "get": {
                "tags": [
                    "Products"
                ],
                "summary": "Get product detail (Admin)",
                "description": "Get detailed product information including images, categories, and toppings for admin panel",
                "operationId": "56c1910d87ff8e7c844ff5c10c2ac1fc",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Product ID",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Product detail retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "string"
                                                },
                                                "name": {
                                                    "type": "string"
                                                },
                                                "description": {
                                                    "type": "string"
                                                },
                                                "status": {
                                                    "type": "string"
                                                },
                                                "is_topping": {
                                                    "type": "boolean"
                                                },
                                                "price": {
                                                    "type": "number"
                                                },
                                                "cost": {
                                                    "type": "number"
                                                },
                                                "up_m_price": {
                                                    "type": "number"
                                                },
                                                "up_l_price": {
                                                    "type": "number"
                                                },
                                                "priority": {
                                                    "type": "integer"
                                                },
                                                "categories_id": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    }
                                                },
                                                "toppings_id": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "object"
                                                    }
                                                },
                                                "thumbnailImage": {
                                                    "type": "string"
                                                },
                                                "productDetailImages": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "object"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "404": {
                        "description": "Product not found"
                    }
                },
                "security": [
                    {
                        "firebaseAuth": []
                    }
                ]
            }
        },
        "/api/vouchers/loadCustomerVoucher": {
            "get": {
                "tags": [
                    "Vouchers"
                ],
                "summary": "Get available vouchers for customer",
                "description": "Get all active vouchers for a specific branch/team, grouped by apply_type (discount/shipping_fee)",
                "operationId": "a1bf2fb23eb9181ed2d248f45bf20e34",
                "parameters": [
                    {
                        "name": "team_id",
                        "in": "query",
                        "description": "Team/Branch ID",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "format": "uuid"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Vouchers retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "discount": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "string",
                                                                "format": "uuid"
                                                            },
                                                            "voucher_code": {
                                                                "type": "string"
                                                            },
                                                            "discount_type": {
                                                                "type": "string",
                                                                "enum": [
                                                                    "percent",
                                                                    "fixed"
                                                                ]
                                                            },
                                                            "discount_amount": {
                                                                "type": "number"
                                                            },
                                                            "discount_percent": {
                                                                "type": "number"
                                                            },
                                                            "minimum": {
                                                                "type": "number"
                                                            },
                                                            "remaining": {
                                                                "type": "integer"
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                },
                                                "shipping_fee": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "object"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "422": {
                        "description": "Validation Error"
                    }
                },
                "security": [
                    {
                        "firebaseAuth": []
                    }
                ]
            }
        }
    },
    "components": {
        "securitySchemes": {
            "firebaseAuth": {
                "type": "http",
                "scheme": "bearer",
                "bearerFormat": "JWT",
                "description": "Enter Firebase JWT token"
            }
        }
    },
    "tags": [
        {
            "name": "Authentication",
            "description": "API Endpoints for user authentication and authorization"
        },
        {
            "name": "Products",
            "description": "API Endpoints for product management"
        },
        {
            "name": "Cart",
            "description": "API Endpoints for shopping cart management"
        },
        {
            "name": "Orders",
            "description": "API Endpoints for order management"
        },
        {
            "name": "Categories",
            "description": "API Endpoints for category management"
        },
        {
            "name": "Vouchers",
            "description": "API Endpoints for voucher management"
        },
        {
            "name": "Shipping",
            "description": "API Endpoints for shipping and delivery"
        },
        {
            "name": "Payment",
            "description": "API Endpoints for payment processing"
        }
    ]
}